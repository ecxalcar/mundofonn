<nav class="navbar navbar-expand-lg navbar-light mb-5">
	<div class="container">
		<a class="navbar-brand" href="#">MundoFonn</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main_nav"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button><!-- /button -->

		<div class="collapse navbar-collapse" id="main_nav">
			<ul class="navbar-nav">
				
				{% for link in linklists.header-menu.links %}
					<li class="nav-item {% if link.links.size > 0 %} dropdown {% endif %} ">
						<a class="nav-link {% if link.links.size > 0 %} dropdown-toggle {% endif %}" href="{{ link.url }}" {% if link.links.size > 0 %} data-bs-toggle="dropdown"{% endif %} > {{ link.title }} </a>
						{% if link.links.size > 0 %}
							<ul class="dropdown-menu">
								{% for child_link in link.links %}
									<li> 
										<a class="dropdown-item {% if child_link.links.size > 0 %} dropdown-toggle {% endif %}" href="{{ child_link.url }}" {% if child_link.links.size > 0 %} data-bs-toggle="dropdown"{% endif %} > {{ child_link.title }} </a>
										{% if child_link.links.size > 0 %}
											<ul class="submenu dropdown-menu">
												{% for grandchild_link in child_link.links %}
													<li><a class="dropdown-item" href="{{ grandchild_link.url }}">{{ grandchild_link.title }}</a></li>
												{% endfor %}
											</ul><!-- /submenu -->
										{% endif %}
									</li>
								{% endfor %}
							</ul><!-- /dropdown-menu -->
						{% endif %}
					</li>
				{% endfor %}

				<!-- <li class="nav-item active"> <a class="nav-link" href="#">Home </a> </li>
				<li class="nav-item"><a class="nav-link" href="#"> About </a></li> -->
				
			</ul><!-- /navbar-nav -->
		</div><!-- /collapse -->
	</div><!-- /container -->
</nav><!-- /navbar -->

<script>
document.addEventListener("DOMContentLoaded", function () {
    // make it as accordion for smaller screens
    if (window.innerWidth < 992) {

      // close all inner dropdowns when parent is closed
      document.querySelectorAll('.navbar .dropdown').forEach(function (everydropdown) {
        everydropdown.addEventListener('hidden.bs.dropdown', function () {
          // after dropdown is hidden, then find all submenus
          this.querySelectorAll('.submenu').forEach(function (everysubmenu) {
            // hide every submenu as well
            everysubmenu.style.display = 'none';
          });
        })
      });

      document.querySelectorAll('.dropdown-menu a').forEach(function (element) {
        element.addEventListener('click', function (e) {
          let nextEl = this.nextElementSibling;
          if (nextEl && nextEl.classList.contains('submenu')) {
            // prevent opening link if link needs to open dropdown
            e.preventDefault();
            if (nextEl.style.display == 'block') {
              nextEl.style.display = 'none';
            } else {
              nextEl.style.display = 'block';
            }

          }
        });
      })
    }
    // end if innerWidth
  });
// DOMContentLoaded  end
</script>

<style>
  /* ============ desktop view ============ */
  @media all and (min-width: 992px) {
    .dropdown-menu li {
      position: relative;
    }

    .nav-item .submenu {
      display: none;
      position: absolute;
      left: 100%;
      top: -7px;
    }

    .nav-item .submenu-left {
      right: 100%;
      left: auto;
    }

    .dropdown-menu>li:hover {
      background-color: #f1f1f1
    }

    .dropdown-menu>li:hover>.submenu {
      display: block;
    }
  }

  /* ============ desktop view .end// ============ */

  /* ============ small devices ============ */
  @media (max-width: 991px) {
    .dropdown-menu .dropdown-menu {
      margin-left: 0.7rem;
      margin-right: 0.7rem;
      margin-bottom: .5rem;
    }
  }

  /* ============ small devices .end// ============ */
</style>