{{ 'customer.css' | asset_url | stylesheet_tag }}

<script src="{{ 'customer.js' | asset_url }}" defer></script>
<section>
	<div class="container">
		<div class="heading-account mb-5 d-inline-block text-center w-100">
			<h2>My Addresses</h2>
			<nav class="d-flex justify-content-between mt-5" style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="{{ routes.account_url }}">Account Details</a></li>
					<li class="breadcrumb-item active" aria-current="page">Addresses</li>
				</ol>
				<ul class="nav">
					<li>
						<button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#modal-new-address{{ forloop.index }}">
							Add New Address
						</button>

						<div class="modal fade" id="modal-new-address{{ forloop.index }}" tabindex="-1" aria-labelledby="modal-new-address{{ forloop.index }}Label" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered modal-lg">
								<div class="modal-content">
									<div class="modal-header">
										<h3>New Address</h3>
										<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
									</div><!-- /modal-header -->
									<div class="modal-body">
										{%- form 'customer_address', customer.new_address, aria-labelledBy: 'AddressNewHeading' -%}
											<div class="row g-3">
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[first_name]" value="{{ address.first_name }}" class="form-control" id="inputfirstName" placeholder="firstName" >
														<label for="inputfirstName" class="form-label">First Name</label>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[last_name]" value="{{ address.last_name }}" class="form-control" id="inputlastName" placeholder="lastName" >
														<label for="inputlastName" class="form-label">Last Name</label>
													</div>
												</div>
												<div class="col-md-12">
													<div class="form-floating">
														<input type="text" name="address[company]" value="{{ address.company }}" class="form-control" id="inputcompany" placeholder="company" >
														<label for="inputcompany" class="form-label">Company</label>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[address1]" value="{{ address.address1 }}" class="form-control" id="inputaddressone" placeholder="addressone" >
														<label for="inputaddressone" class="form-label">Address 1</label>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[address2]" value="{{ address.address2 }}" class="form-control" id="inputaddresstwo" placeholder="addresstwo" >
														<label for="inputaddresstwo" class="form-label">Address 2</label>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[city]" value="{{ address.city }}" class="form-control" id="inputcity" placeholder="city" >
														<label for="inputcity" class="form-label">City</label>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<select id="AddressCountryNew" class="form-select"  value="{{ address.country }}" name="address[country]" data-default="{{ form.country }}" autocomplete="country" aria-label="Floating label select example" >
															{{ all_country_option_tags }}
														</select>
														<label for="AddressCountryNew" class="form-label">Country</label>
														<!-- <input type="text" name="address[first_name]" class="form-control" id="inputcountry" placeholder="country"> -->
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[zip]" value="{{ address.zip }}" class="form-control" id="inputzip" placeholder="zip" >
														<label for="inputzip" class="form-label">Zip / Postal Code</label>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-floating">
														<input type="text" name="address[phone]" value="{{ address.phone }}" class="form-control" id="inputphone" placeholder="phone" >
														<label for="inputphone" class="form-label">Phone</label>
													</div>
												</div>
												<div class="col-12">
													<div class="form-check">
														{{ form.set_as_default_checkbox }}
														<label for="address_default_address_new">{{ 'customer.addresses.set_default' | t }}</label>
													</div>
												</div>
												<div class="col-12">
													<button type="reset" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
													<button type="submit" class="btn btn-primary">Add</button>
												</div>
											</div><!-- /row -->
										{%- endform -%}
									</div><!-- /modal-body -->
								</div><!-- /modal-content -->
							</div><!-- /modal-dialog -->
						</div><!-- /modal  -->
					</li>
				</ul>
			</nav>
		</div><!-- /heading-account -->

		<div class="row">
			{% paginate customer.addresses by 4 %}
				{% for address in customer.addresses %}
					<div class="col-md-4">
						<div class="card bg-light border p-4 mb-4">
							{{ address | format_address }}
							<div class="wrapper-btn text-center">
								<button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#modal-edit-address{{ forloop.index }}">Edit</button>
								<button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#modal-delete-address{{ forloop.index }}">Delete</button>
							</div><!-- /wrapper-btn -->

							<!-- EDIT FORM MODAL -->
							<div class="modal fade" id="modal-edit-address{{ forloop.index }}" tabindex="-1" aria-labelledby="modal-edit-address{{ forloop.index }}Label" aria-hidden="true">
								<div class="modal-dialog modal-dialog-centered modal-lg">
									<div class="modal-content">
										<div class="modal-header">
											<h3>Edit Address</h3>
											<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
										</div><!-- /modal-header -->
										<div class="modal-body">
											{%- form 'customer_address', address -%}
												<div class="row g-3">
													{%- if address == customer.default_address -%}
														<div class="col-12">
															<div class="badge bg-primary badge-md">Default Address</div>
														</div>
													{%- endif -%}
													<div class="col-md-6">
														<div class="form-floating">
															<input type="text" id="AddressFirstName_{{ form.id }}" class="form-control" name="address[first_name]" value="{{ form.first_name }}" placeholder="First Name">
															<label for="AddressFirstName_{{ form.id }}" class="form-label">First Name</label>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-floating">
															<input type="text" id="AddressLastName_{{ form.id }}" class="form-control" name="address[last_name]" value="{{ form.last_name }}" placeholder="Last Name">
															<label for="AddressLastName_{{ form.id }}" class="form-label">Last Name</label>
														</div>
													</div>
													<div class="col-md-12">
														<div class="form-floating">
															<input type="text" id="AddressCompany_{{ form.id }}" class="form-control" name="address[company]" value="{{ form.company }}" placeholder="Company">
															<label for="AddressCompany_{{ form.id }}" class="form-label">Company</label>
														</div>
													</div>
													<div class="col-md-6">
														<input type="text" id="AddressAddress1_{{ form.id }}" class="form-control" name="address[address1]" value="{{ form.address1 }}" placeholder="Address 2">
														<label for="AddressAddress1_{{ form.id }}" class="form-label">Address 2</label>
													</div>
													<div class="col-md-6">
														<div class="form-floating">
															<input type="text" id="AddressAddress2_{{ form.id }}" class="form-control" name="address[address2]" value="{{ form.address2 }}" placeholder="Address 1">
															<label for="AddressAddress2_{{ form.id }}" class="form-label">Address 1</label>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-floating">
															<input type="text" id="AddressCity_{{ form.id }}" class="form-control" name="address[city]" value="{{ form.city }}" placeholder="Ciudad">
															<label for="AddressCity_{{ form.id }}" class="form-label">Ciudad</label>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-floating">
															<select id="AddressCountry_{{ form.id }}" name="address[country]" class="form-control" data-address-country-select data-default="{{ form.country }}" data-form-id="{{ form.id }}" >
															{{ all_country_option_tags }}
															</select>
															<label for="AddressCountry_{{ form.id }}" class="form-label">Country</label>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-floating">
															<input type="text" id="AddressZip_{{ form.id }}" class="form-control" name="address[zip]" value="{{ form.zip }}" autocapitalize="characters" placeholder="Zip/ Postal Code">
															<label for="AddressZip_{{ form.id }}" class="form-label">Zip/ Postal Code</label>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-floating">
															<input type="tel" id="AddressPhone_{{ form.id }}" class="form-control"  name="address[phone]" value="{{ form.phone }}" placeholder="Phone">
															<label for="AddressPhone_{{ form.id }}" class="form-label">Phone</label>
														</div>
													</div>
													<div>
														{{ form.set_as_default_checkbox }}
														<label for="address_default_address_{{ form.id }}">
															{{ 'customer.addresses.set_default' | t }}
														</label>
													</div>
													<div class="text-center">
														<button type="button" data-bs-dismiss="modal" class="btn btn-outline-secondary px-4">Cancelar</button>
														<button class="btn btn-warning px-5">Actualizar</button>
													</div><!-- /text-center -->
												</div><!-- /row -->
											{%- endform -%}
										</div><!-- /modal-body -->
									</div><!-- /modal-content -->
								</div><!-- /modal-dialog -->
							</div><!-- /modal -->

							<!-- DELETE FORM MODAL -->
							<div class="modal fade" id="modal-delete-address{{ forloop.index }}" tabindex="-1" aria-labelledby="modal-delete-address{{ forloop.index }}Label" aria-hidden="true">
								<div class="modal-dialog modal-dialog-centered">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title">Delete Address</h5>
											<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
										</div><!-- /modal-header -->
										<div class="modal-body p-5">
											<div class="row">
												<div class="col-md-6">
													<h3 class="text-center">Are you sure to want to delete this address?</h3>
												</div><!-- /col -->
												<div class="col-md-6">
													<div class="card bg-light border p-4">
														{{ address | format_address }}
													</div><!-- /card -->
												</div><!-- /col -->
											</div><!-- /row -->
											<form class="text-center mt-4" method="post" action="/account/addresses/{{ address.id }}">
												<input type="hidden" name="_method" value="delete">
												<button data-bs-dismiss="modal" class="btn btn-outline-secondary">No, later</button>
												<button type="submit" class="btn btn-danger">Yes, delete now!</button>
											</form>
										</div><!-- /modal-body -->
									</div><!-- /modal-content -->
								</div><!-- /modal-dialog -->
							</div><!-- /modal -->
						</div><!-- /card -->
					</div><!-- /col -->
				{% endfor %}
			{% endpaginate %}
		</div><!-- /row -->
	</div><!-- /container -->
</section>


{%- paginate customer.addresses by 5 -%}
	<div class="customer addresses" data-customer-addresses>
		<svg style="display: none">
			<symbol id="icon-caret" viewBox="0 0 10 6">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
			</symbol>
		</svg>
		<h1>{{ 'customer.addresses.title' | t }}</h1>
		<a href="{{ routes.account_url }}">
			{{ 'customer.account.return' | t }}
		</a>

		<div data-address>
			<button
				type="button"
				aria-expanded="false"
				aria-controls="AddAddress"
			>
				{{ 'customer.addresses.add_new' | t }}
			</button>
			<div id="AddAddress">
				<h2 id="AddressNewHeading">add address jere</h2>
				{%- form 'customer_address', customer.new_address, aria-labelledBy: 'AddressNewHeading' -%}
					<div class="field">
						<input type="text" id="AddressFirstNameNew" name="address[first_name]" value="{{ form.first_name }}" autocomplete="given-name" placeholder="{{ 'customer.addresses.first_name' | t }}">
						<label for="AddressFirstNameNew">{{ 'customer.addresses.first_name' | t }}</label>
					</div>
					<div class="field">
						<input type="text" id="AddressLastNameNew" name="address[last_name]" value="{{ form.last_name }}" autocomplete="family-name" placeholder="{{ 'customer.addresses.last_name' | t }}">
						<label for="AddressLastNameNew">{{ 'customer.addresses.last_name' | t }}</label>
					</div>
					<div class="field">
						<input type="text" id="AddressCompanyNew" name="address[company]" value="{{ form.company }}" autocomplete="organization" placeholder="{{ 'customer.addresses.company' | t }}">
						<label for="AddressCompanyNew">{{ 'customer.addresses.company' | t }}</label>
					</div>
					<div class="field">
						<input type="text" id="AddressAddress1New" name="address[address1]" value="{{ form.address1 }}" autocomplete="address-line1" placeholder="{{ 'customer.addresses.address1' | t }}">
						<label for="AddressAddress1New">{{ 'customer.addresses.address1' | t }}</label>
					</div>
					<div class="field">
						<input type="text" id="AddressAddress2New" name="address[address2]" value="{{ form.address2 }}" autocomplete="address-line2" placeholder="{{ 'customer.addresses.address2' | t }}">
						<label for="AddressAddress2New">{{ 'customer.addresses.address2' | t }}</label>
					</div>
					<div class="field">
						<input type="text" id="AddressCityNew" name="address[city]" value="{{ form.city }}" autocomplete="address-level2" placeholder="{{ 'customer.addresses.city' | t }}">
						<label for="AddressCityNew">{{ 'customer.addresses.city' | t }}</label>
					</div>
					<div>
						<label for="AddressCountryNew">{{ 'customer.addresses.country' | t }}</label>
						<div class="select">
							<select
								id="AddressCountryNew"
								name="address[country]"
								data-default="{{ form.country }}"
								autocomplete="country"
							>
								{{ all_country_option_tags }}
							</select>
							<svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
								<use href="#icon-caret" />
							</svg>
						</div>
					</div>
					<div id="AddressProvinceContainerNew" style="display: none">
						<label for="AddressProvinceNew">{{ 'customer.addresses.province' | t }}</label>
						<div class="select">
							<select
								id="AddressProvinceNew"
								name="address[province]"
								data-default="{{ form.province }}"
								autocomplete="address-level1"
							>
							</select>
							<svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
								<use href="#icon-caret" />
							</svg>
						</div>
					</div>
					<div class="field">
						<input type="text" id="AddressZipNew" name="address[zip]" value="{{ form.zip }}" autocapitalize="characters" autocomplete="postal-code" placeholder="{{ 'customer.addresses.zip' | t }}">
						<label for="AddressZipNew">{{ 'customer.addresses.zip' | t }}</label>
					</div>
					<div class="field">
						<input type="tel" id="AddressPhoneNew" name="address[phone]" value="{{ form.phone }}" autocomplete="tel" placeholder="{{ 'customer.addresses.phone' | t }}">
						<label for="AddressPhoneNew">{{ 'customer.addresses.phone' | t }}</label>
					</div>
					<div>
						{{ form.set_as_default_checkbox }}
						<label for="address_default_address_new">{{ 'customer.addresses.set_default' | t }}</label>
					</div>
					<div>
						<button>{{ 'customer.addresses.add' | t }}</button>
						<button type="reset">{{ 'customer.addresses.cancel' | t }}</button>
					</div>
				{%- endform -%}
			</div>
		</div>

		<ul role="list">
			{%- for address in customer.addresses -%}
				<li data-address>
					{%- if address == customer.default_address -%}
						<h2>{{ 'customer.addresses.default' | t }}</h2>
					{%- endif -%}
					{{ address | format_address }}
					<button
						type="button"
						id="EditFormButton_{{ address.id }}"
						aria-label="{{ 'customer.addresses.edit_address' | t }} {{ forloop.index }}"
						aria-controls="EditAddress_{{ address.id }}"
						aria-expanded="false"
						data-address-id="{{ address.id }}"
					>
						{{ 'customer.addresses.edit' | t }}
					</button>
					<button
						type="button"
						aria-label="{{ 'customer.addresses.delete' | t }} {{ forloop.index }}"
						data-target="{{ address.url }}"
						data-confirm-message="{{ 'customer.addresses.delete_confirm' | t }}"
					>
						{{ 'customer.addresses.delete' | t }}
					</button>
					<div id="EditAddress_{{ address.id }}">
						<h2>{{ 'customer.addresses.edit_address' | t }}</h2>
						{%- form 'customer_address', address -%}
							<div class="field">
								<input type="text" id="AddressFirstName_{{ form.id }}" name="address[first_name]" value="{{ form.first_name }}" autocomplete="given-name" placeholder="{{ 'customer.addresses.first_name' | t }}">
								<label for="AddressFirstName_{{ form.id }}">{{ 'customer.addresses.first_name' | t }}</label>
							</div>
							<div class="field">
								<input type="text" id="AddressLastName_{{ form.id }}" name="address[last_name]" value="{{ form.last_name }}" autocomplete="family-name" placeholder="{{ 'customer.addresses.last_name' | t }}">
								<label for="AddressLastName_{{ form.id }}">{{ 'customer.addresses.last_name' | t }}</label>
							</div>
							<div class="field">
								<input type="text" id="AddressCompany_{{ form.id }}" name="address[company]" value="{{ form.company }}" autocomplete="organization" placeholder="{{ 'customer.addresses.company' | t }}">
								<label for="AddressCompany_{{ form.id }}">{{ 'customer.addresses.company' | t }}</label>
							</div>
							<div class="field">
								<input type="text" id="AddressAddress1_{{ form.id }}" name="address[address1]" value="{{ form.address1 }}" autocomplete="address-line1" placeholder="{{ 'customer.addresses.address1' | t }}">
								<label for="AddressAddress1_{{ form.id }}">{{ 'customer.addresses.address1' | t }}</label>
							</div>
							<div class="field">
								<input type="text" id="AddressAddress2_{{ form.id }}" name="address[address2]" value="{{ form.address2 }}" autocomplete="address-line2" placeholder="{{ 'customer.addresses.address2' | t }}">
								<label for="AddressAddress2_{{ form.id }}">{{ 'customer.addresses.address2' | t }}</label>
							</div>
							<div class="field">
								<input type="text" id="AddressCity_{{ form.id }}" name="address[city]" value="{{ form.city }}" autocomplete="address-level2" placeholder="{{ 'customer.addresses.city' | t }}">
								<label for="AddressCity_{{ form.id }}">{{ 'customer.addresses.city' | t }}</label>
							</div>
							<div>
								<label for="AddressCountry_{{ form.id }}">
									{{ 'customer.addresses.country' | t }}
								</label>
								<div class="select">
									<select
										id="AddressCountry_{{ form.id }}"
										name="address[country]"
										data-address-country-select
										data-default="{{ form.country }}"
										data-form-id="{{ form.id }}"
										autocomplete="country"
									>
										{{ all_country_option_tags }}
									</select>
									<svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
										<use href="#icon-caret" />
									</svg>
								</div>
							</div>
							<div id="AddressProvinceContainer_{{ form.id }}" style="display:none;">
								<label for="AddressProvince_{{ form.id }}">
									{{ 'customer.addresses.province' | t }}
								</label>
								<div class="select">
									<select
										id="AddressProvince_{{ form.id }}"
										name="address[province]"
										data-default="{{ form.province }}"
										autocomplete="address-level1"
									>
									</select>
									<svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
										<use href="#icon-caret" />
									</svg>
								</div>
							</div>
							<div class="field">
								<input type="text" id="AddressZip_{{ form.id }}" name="address[zip]" value="{{ form.zip }}" autocapitalize="characters" autocomplete="postal-code" placeholder="{{ 'customer.addresses.zip' | t }}">
								<label for="AddressZip_{{ form.id }}">{{ 'customer.addresses.zip' | t }}</label>
							</div>
							<div class="field">
								<input type="tel" id="AddressPhone_{{ form.id }}"  name="address[phone]" value="{{ form.phone }}" autocomplete="tel" placeholder="{{ 'customer.addresses.phone' | t }}">
								<label for="AddressPhone_{{ form.id }}">{{ 'customer.addresses.phone' | t }}</label>
							</div>
							<div>
								{{ form.set_as_default_checkbox }}
								<label for="address_default_address_{{ form.id }}">
									{{ 'customer.addresses.set_default' | t }}
								</label>
							</div>
							<div>
								<button>{{ 'customer.addresses.update' | t }}</button>
								<button type="reset">{{ 'customer.addresses.cancel' | t }}</button>
							</div>
						{%- endform -%}
					</div>
				</li>
			{%- endfor -%}
		</ul>

		{%- if paginate.pages > 1 -%}
			{%- if paginate.parts.size > 0 -%}
					<nav class="pagination" role="navigation" aria-label="{{ 'general.pagination.label' | t }}">
						<ul role="list">
						{%- if paginate.previous -%}
							<li>
								<a href="{{ paginate.previous.url }}" aria-label="{{ 'general.pagination.previous' | t }}">
									<svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
									</svg>
								</a>
							</li>
						{%- endif -%}

						{%- for part in paginate.parts -%}
							<li>
								{%- if part.is_link -%}
									<a href="{{ part.url }}" aria-label="{{ 'general.pagination.page' | t: number: part.title }}">{{ part.title }}</a>
								{%- else -%}
									{%- if part.title == paginate.current_page -%}
										<span aria-current="page" aria-label="{{ 'general.pagination.page' | t: number: part.title }}">{{ part.title }}</span>
									{%- else -%}
										<span>{{ part.title }}</span>
									{%- endif -%}
								{%- endif -%}
							</li>
						{%- endfor -%}

						{%- if paginate.next -%}
							<li>
								<a href="{{ paginate.next.url }}" aria-label="{{ 'general.pagination.next' | t }}" >
									<svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
									</svg>
								</a>
							</li>
						{%- endif -%}
						</ul>
					</nav>
			{%- endif -%}
		{%- endif -%}
	</div>
{%- endpaginate -%}

<script>
	window.onload = () => {
		typeof CustomerAddresses !== 'undefined' && new CustomerAddresses();
	}
</script>